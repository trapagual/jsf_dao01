<html  
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">        
    <ui:composition>
        <h:form>
            <h:panelGrid columns="4">
                <p:outputLabel for="nombre" value="Nombre:"/>
                <p:inputText id="nombre" value="#{userBean.selectedUser.firstname}" required="true" requiredMessage="El nombre no puede ser nulo"/>
                <p:outputLabel for="apellido" value="Apellido:"/>
                <p:inputText id="apellido" value="#{userBean.selectedUser.lastname}" required="true" requiredMessage="El apellido no puede ser nulo"/>

                <p:outputLabel for="email" value="E-mail:"/>
                <p:inputText id="email" value="#{userBean.selectedUser.email}"
                             required="true"
                             requiredMessage="Introduzca un email válido"
                             validatorMessage="El formato del email no es válido">
                    <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>
                </p:inputText>
                <p:outputLabel for="fnac" value="F. Nacimiento:" />
                <p:calendar id="fnac" required="true" requiredMessage="Hay que poner una fecha de nacimiento" value="#{userBean.selectedUser.birthdate}" showOn="button"/>

                <p:commandButton id="btnOk" value="Grabar"  action="#{userBean.salvarUsuario}"/>
                <p:button id="btnCancel" value="Cancelar"  outcome="user"/>
            </h:panelGrid>
            <p:messages/>
        </h:form>
    </ui:composition>
</html>

